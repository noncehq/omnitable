import*as e from"react/jsx-runtime";import*as o from"antd";import*as r from"antd/locale/en_US";import*as t from"antd/locale/zh_CN";import*as l from"@omnitable/stk/react";import*as a from"@omnitable/stk/utils";import*as i from"lucide-react";import*as n from"react";import*as c from"ahooks";import*as s from"motion/react";import*as d from"react-dom";import*as _ from"@phosphor-icons/react";let b={color_std:"white",color_std_rgb:"255,255,255",color_contrast:"black",color_contrast_rgb:"0,0,0",color_text:"#000000",color_text_rgb:"0,0,0",color_text_sub:"rgba(0,0,0,0.9)",color_text_sublight:"rgba(0,0,0,0.81)",color_text_grey:"rgba(0,0,0,0.72)",color_text_greylight:"rgba(0,0,0,0.6)",color_text_light:"rgba(0,0,0,0.48)",color_text_softlight:"rgba(0,0,0,0.36)",color_bg:"#ffffff",color_bg_rgb:"255,255,255",color_bg_1:"#fafafa",color_bg_1_rgb:"250,250,250",color_bg_2:"#f0f0f0",color_bg_2_rgb:"240,240,240",color_border:"rgba(0, 0, 0, 0.09)",color_border_light:"rgba(0, 0, 0, 0.06)",color_border_soft:"rgba(0, 0, 0, 0.036)",color_border_softlight:"rgba(0, 0, 0, 0.021)",shadow:"0 0 30px rgba(var(--color_text_rgb), 0.072)",wave:"rgba(var(--color_main_rgb), 0.06)"},m={color_std:"black",color_std_rgb:"0,0,0",color_contrast:"white",color_contrast_rgb:"255,255,255",color_text:"#d2d2d2",color_text_rgb:"210,210,210",color_text_sub:"rgba(210,210,210,0.9)",color_text_sublight:"rgba(210,210,210,0.81)",color_text_grey:"rgba(210,210,210,0.72)",color_text_greylight:"rgba(210,210,210,0.6)",color_text_light:"rgba(210,210,210,0.48)",color_text_softlight:"rgba(210,210,210,0.36)",color_bg:"#060606",color_bg_rgb:"6,6,6",color_bg_1:"#121212",color_bg_1_rgb:"12,12,12",color_bg_2:"#212121",color_bg_2_rgb:"21,21,21",color_border:"rgba(255, 255, 255, 0.09)",color_border_light:"rgba(255, 255, 255, 0.06)",color_border_soft:"rgba(255, 255, 255, 0.036)",color_border_softlight:"rgba(255, 255, 255, 0.021)",shadow:"0 0 42px rgba(var(--color_contrast_rgb), 0.03)",wave:"rgba(var(--color_text_rgb), 0.3)"},g={colorSuccess:"#00C853",colorWarning:"#FF8F00",colorError:"#FF1744",controlHeightLG:38,controlHeight:30,controlHeightSM:26,controlHeightXS:18,fontFamily:"inherit",controlOutline:"none"},x=e=>{let o="light"===e?b:m,r="dark"===e;return{hashed:!1,token:{...g,...r?{boxShadowSecondary:o.shadow}:{},colorPrimary:`rgb(${o.color_contrast_rgb})`,colorWhite:`rgb(${o.color_std_rgb})`,colorText:o.color_text,colorTextBase:o.color_text,colorBgBase:o.color_bg,colorBgContainer:o.color_bg,colorBgElevated:r?o.color_bg_1:o.color_bg,colorBgLayout:o.color_bg_1,colorBorder:o.color_border,colorBorderSecondary:o.color_border_light,colorBgContainerDisabled:o.color_border_soft,controlItemBgActive:o.color_bg_2,switchHeight:34,boxShadow:o.shadow,borderRadiusXS:3,borderRadiusSM:6,borderRadius:6},components:{Button:{primaryColor:o.color_bg},Checkbox:{borderRadiusXS:3,borderRadiusSM:3,borderRadius:3},Switch:{colorPrimary:o.color_text,controlHeight:24,controlHeightSM:22,controlHeightXS:20},DatePicker:{colorPrimary:o.color_text,controlHeight:24,cellHeight:24,cellWidth:24,timeCellHeight:24,timeColumnWidth:36,textHeight:30,fontSize:12,colorSplit:"transparent"},Dropdown:{controlItemBgHover:o.color_bg_2},Input:{colorPrimary:o.color_text,colorPrimaryHover:o.color_text_grey},Segmented:{borderRadiusSM:6,borderRadiusXS:4,controlHeightSM:24,colorBgLayout:o.color_bg_1},Slider:{handleSize:8,handleSizeHover:10},Radio:{colorPrimary:o.color_text,dotSize:9,radioSize:12},Tabs:{colorPrimary:o.color_text},Pagination:{controlHeight:24},Menu:{itemHeight:32,itemMarginBlock:0,itemMarginInline:0,itemPaddingInline:0,itemBorderRadius:6,iconSize:16,subMenuItemBg:"unset",itemSelectedColor:o.color_text}}}},f=(0,l.memo)(l=>{let{children:a,locale:i,theme:n,...c}=l,s={...c,prefixCls:"omni",iconPrefixCls:"omni-icon",virtual:!1,getPopupContainer:e=>e?.parentElement};return i&&(s.locale="en"===i?r.default:t.default),n&&(s.theme=x(n)),(0,e.jsx)(o.ConfigProvider,{...s,children:(0,e.jsx)(o.App,{prefixCls:"omni",component:!1,children:a})})}),h=a.$.memo(o=>{let{className:r,size:t=96,desc:l,logo:i}=o;return(0,e.jsxs)("div",{className:a.$.cx("flex flex_column justify_center align_center","_local-FIu5ak",r),children:[(0,e.jsxs)("div",{className:"loading_wrap relative",children:[(0,e.jsx)("div",{className:"loading_icon bottom w_100 h_100 absolute top_0 left_0",style:{width:t,height:t},children:i}),(0,e.jsx)("div",{className:"loading_icon top w_100 h_100 absolute top_0 left_0",style:{width:t,height:t},children:i})]}),l&&(0,e.jsx)("span",{className:"desc border_box text_center",children:l})]})}),u=a.$.memo(o=>{let{className:r,size:t=24,color:l="var(--color_text)"}=o;return(0,e.jsx)("div",{className:a.$.cx("flex","_local-kn4XnN",r),style:{width:t,height:t},children:(0,e.jsx)(i.Loader2,{className:"w_100 h_100",strokeWidth:2.1,color:l})})}),p={mask:"mask-l81Q3U",on_body:"on_body-uGzmjB",content_wrap:"content_wrap-ReJdua",disableOverflow:"disableOverflow-NiHvjW",disablePadding:"disablePadding-IBX12n",content:"content-DrHWd1",header:"header-crrQax",body:"body-OkCa18"},y=a.$.memo(o=>{let{children:r,open:t,placement:l="left",className:i,bodyClassName:b,title:m,width:g,height:x,maskClosable:f,disableOverflow:h,disablePadding:u,zIndex:y,header_actions:w,header:v,onCancel:j,getRef:S}=o,P=(0,n.useRef)(null),k=(0,n.useRef)(null),[N,C]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!a.is_server)if(t){C(!0),document.body.setAttribute("data-scroll-locked","1");let e=()=>j?.();return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}else{let e=setTimeout(()=>{C(!1)},180);return document.body.removeAttribute("data-scroll-locked"),()=>clearTimeout(e)}},[t]),(0,c.useClickAway)(e=>{f&&e.target===P.current&&j?.(e)},k);let{align:H,transform:B,style:$}=(0,n.useMemo)(()=>{switch(l){case"left":return{style:{width:g??300},transform:"translate3d(-100%, 0px, 0px)"};case"right":return{align:"justify_end",style:{width:g??300},transform:"translate3d(100%, 0px, 0px)"};case"top":return{style:{width:"100%",height:x??300},transform:"translate3d(0px, -100%, 0px)"};case"bottom":return{align:"align_end",style:{width:"100%",height:x??300},transform:"translate3d(0px, 100%, 0px)"}}},[l,g,x]),z=(0,n.useMemo)(()=>v?v(j):m?(0,e.jsxs)("div",{className:a.$.cx(p.header,"w_100 border_box flex justify_between align_center relative"),children:[(0,e.jsx)("span",{className:"title",children:m}),w||(0,e.jsx)("span",{className:"btn_close flex justify_center align_center clickable",onClick:j,children:(0,e.jsx)(_.X,{size:16})})]}):null,[m,w,j,v]);if(!N)return null;let I=(0,e.jsxs)(n.Fragment,{children:[(0,e.jsx)(s.AnimatePresence,{children:t&&(0,e.jsx)(s.motion.div,{className:a.$.cx("omni",p.mask,p.on_body,"w_100 h_100"),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18,ease:"easeInOut"},style:{zIndex:y??1001}})}),(0,e.jsx)(s.AnimatePresence,{children:t&&(0,e.jsx)("div",{className:a.$.cx("omni",p.content_wrap,p.on_body,h&&p.disableOverflow,u&&p.disablePadding,H,i,"if_modal_wrap w_100 h_100 border_box flex"),ref:P,style:{zIndex:y?y+1:1002},children:(0,e.jsxs)(s.motion.div,{className:a.$.cx(p.content,"if_modal_content border_box flex flex_column"),initial:{transform:B},animate:{transform:"translate3d(0px, 0px, 0px)"},exit:{transform:B},transition:{duration:.18,ease:"easeInOut"},style:$,ref:k,children:[z,(0,e.jsx)("div",{className:a.$.cx(p.body,b,h&&p.disableOverflow,"if_modal_body w_100 border_box flex flex_column"),ref:S,children:r})]})})})]});return(0,d.createPortal)(I,document.body)}),w={mask:"mask-YV2a4t",on_body:"on_body-X2q3sM",content_wrap:"content_wrap-rSDASE",disableOverflow:"disableOverflow-phrmyT",disablePadding:"disablePadding-SDHm6f",content:"content-wzv9JG",header:"header-Cjm3MY",body:"body-eza6sn"},v=a.$.memo(o=>{let{children:r,open:t,className:l,bodyClassName:i,title:b,width:m,minHeight:g,height:x,maskClosable:f,disableOverflow:h,disablePadding:u,hideClose:p,zIndex:y,header:v,onCancel:j,getContainer:S,getRef:P}=o,k=(0,n.useRef)(null),N=(0,n.useRef)(null),[C,H]=(0,n.useState)(!1),[B,$]=(0,n.useState)(!1);if(a.is_server)return null;let z=S?.()||document.body;(0,n.useEffect)(()=>{if(t){$(!0),document.body.style.setProperty("overflow-y","hidden");let e=()=>j?.();return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}{let e=setTimeout(()=>{$(!1)},180);return document.body.style.removeProperty("overflow-y"),()=>clearTimeout(e)}},[t]),(0,c.useClickAway)(e=>{f&&e.target===k.current&&j?.(e)},N),(0,n.useEffect)(()=>{H(z===document.body)},[z]);let I=(0,n.useMemo)(()=>v?v(j):b?(0,e.jsxs)("div",{className:a.$.cx(w.header,"w_100 border_box flex justify_between align_center"),children:[(0,e.jsx)("span",{className:"title",children:b}),!p&&(0,e.jsx)("span",{className:"btn_close flex justify_center align_center clickable",onClick:j,children:(0,e.jsx)(_.X,{size:14})})]}):null,[b,p,j,v]);if(!B)return null;let M=(0,e.jsxs)(n.Fragment,{children:[(0,e.jsx)(s.AnimatePresence,{children:t&&(0,e.jsx)(s.motion.div,{className:a.$.cx("omni",w.mask,C&&w.on_body,"w_100 h_100"),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18,ease:"easeInOut"},style:{zIndex:y??1001}})}),(0,e.jsx)(s.AnimatePresence,{children:t&&(0,e.jsx)(s.motion.div,{className:a.$.cx("omni",w.content_wrap,C&&w.on_body,h&&w.disableOverflow,u&&w.disablePadding,l,"if_modal_wrap w_100 h_100 border_box flex align_center"),ref:k,initial:{transform:"translate3d(0px, -30px, 0px)",opacity:0},animate:{transform:"translate3d(0px, 0px, 0px)",opacity:1},exit:{transform:"translate3d(0px, 30px, 0px)",opacity:0},transition:{duration:.18,ease:"easeInOut"},style:{zIndex:y?y+1:1002},children:(0,e.jsxs)("div",{className:a.$.cx(w.content,"if_modal_content border_box flex flex_column"),style:{width:m??360,minHeight:g,...x?{height:x,overflowY:"scroll"}:{}},ref:N,children:[I,(0,e.jsx)("div",{className:a.$.cx(w.body,i,h&&w.disableOverflow,"if_modal_body w_100 border_box flex flex_column"),ref:P,children:r})]})})})]});return z?(0,d.createPortal)(M,z):M});export{f as AntdConfigProvider,y as Drawer,h as Loading,u as LoadingCircle,v as Modal};